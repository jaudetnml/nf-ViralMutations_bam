profiles {
    singularity {
        singularity.enabled  = true
        docker.enabled       = false
        podman.enabled       = false
        shifter.enabled      = false
        charliecloud.enabled = false
        apptainer.enabled    = false

        singularity {
            enabled    = true
            autoMounts = true
            registry   = 'quay.io'
            cacheDir   = "${params.Singularity_cache}"
        }
    }

    apptainer {
        singularity.enabled  = false
        docker.enabled       = false
        podman.enabled       = false
        shifter.enabled      = false
        charliecloud.enabled = false
        apptainer.enabled    = true

        apptainer {
            enabled    = true
            autoMounts = true
            registry   = 'quay.io'
            cacheDir   = "${params.Singularity_cache}"
        }
    }

    podman {
        podman.enabled       = true
        conda.enabled        = false
        docker.enabled       = false
        singularity.enabled  = false
        shifter.enabled      = false
        charliecloud.enabled = false
        apptainer.enabled    = false
        podman.registry      = 'quay.io'
    }
    shifter {
        shifter.enabled      = true
        conda.enabled        = false
        docker.enabled       = false
        singularity.enabled  = false
        podman.enabled       = false
        charliecloud.enabled = false
        apptainer.enabled    = false
    }
    charliecloud {
        charliecloud.enabled = true
        conda.enabled        = false
        docker.enabled       = false
        singularity.enabled  = false
        podman.enabled       = false
        shifter.enabled      = false
        apptainer.enabled    = false
    }

    docker {
        docker.enabled       = true
        conda.enabled        = false
        singularity.enabled  = false
        podman.enabled       = false
        shifter.enabled      = false
        charliecloud.enabled = false
        apptainer.enabled    = false
        docker.runOptions    = '-u $(id -u):$(id -g)'
        docker.registry      = 'quay.io'
    }
    arm {
        docker.runOptions = '-u $(id -u):$(id -g) --platform=linux/amd64'
        docker.registry   = 'quay.io'
    }

    slurm {
        process {
            executor = 'slurm'
            queue    = "${params.SLURM_Queue}"
        }
    }
}
